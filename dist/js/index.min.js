$(function(){function e(){var e=location.hash;switch(e){case"":case"#home":$("#main").load("../../pages/home.html");break;case"#mymsg":break;case"#mymsg/getuserinfo":case"#mymsg/updateuser":a(e);break;case"#borrow":$("#main").load("../../pages/borrow.html");break;case"#invest":$("#main").load("../../pages/invest.html");break;default:$("#main").load("../../pages/404.html")}!function(e){""===e&&(e="#home");e.includes("mymsg")&&(e="#mymsg");$('.second .list .nav-item[href="'+e+'"]').addClass("active").closest("li").siblings("li").find("a").removeClass("active")}(e)}function a(e){e=e.substr(1),$("#rightContent").length?($("#rightContent").load("../../pages/"+e+".html"),t(e)):$("#main").load("../../pages/mymsg.html",function(){$("#rightContent").load("../../pages/"+e+".html"),t(e)})}function t(e){$(".list-group li a").removeClass("active"),$('.list-group li a[href="#'+e+'"]').addClass("active")}var o;$(window).scroll(function(){1e3<$("html,body").scrollTop()?$(".retop").slideDown():$(".retop").slideUp()}),$(".retop").click(function(){var a=setInterval(function(){var e=$("html,body").scrollTop();$("html,body").scrollTop(e-50),e<=0&&clearInterval(a)},30)}),$(".retop").click(function(){return $("html,body").animate({scrollTop:0},300),!1}),(window.onhashchange=e)(),o=localStorage.getItem("username"),localStorage.getItem("uid")&&o?$("#login").html('<a href="#">'+o+'</a> / <a href="#" id="regOut">注销</a>'):$("#login").html('<a href="./login.html">登录</a> / <a href="./register.html">注册</a>'),$("#login").on("click","#regOut",function(){confirm("您是否要退出?")&&(localStorage.removeItem("username"),localStorage.removeItem("uid"),$("#login").html('<a href="./login.html">登录</a> / <a href="#">注册</a>'))})});