$(function(){var a=$("#username"),s=$("#pwd"),c=$("#email"),l=$("#nikename"),n=!1,i=!1,b=!1,u=!1;a.blur(function(){var t=$(this).val(),e=$(this).next();/^[a-zA-Z]\w{2,11}$/.test(t)?$.ajax({url:"http://127.0.0.1:8848/accrepeat.php",data:"username="+t,type:"GET",success:function(t){n="ok"===t?(e.text(""),a.css("border-bottom-color","#eee"),!0):(e.text("此用户名太受欢迎了,请换一个"),a.css("border-bottom-color","#ff8133"),!1)}}):(e.text("请输入正确的用户名"),a.css("border-bottom-color","#ff8133"),n=!1)}),s.blur(function(){var t=$(this).val(),e=$(this).next();i=/^\w{4,12}$/.test(t)?(e.text(""),s.css("border-bottom-color","#eee"),!0):(e.text("请输入您的密码"),s.css("border-bottom-color","#ff8133"),!1)}),c.blur(function(){var t=$(this).val(),e=$(this).next();b=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(t)?(e.text(""),s.css("border-bottom-color","#eee"),!0):(e.text("请输入您的邮箱"),c.css("border-bottom-color","#ff8133"),!1)}),l.blur(function(){var t=$(this).val(),e=$(this).next();u=t?(e.text(""),l.css("border-bottom-color","#eee"),!0):(e.text("请输入昵称"),l.css("border-bottom-color","#ff8133"),!1)}),$(".btn").click(function(){if(!(n&&i&&b&&u))return a.trigger("blur"),s.trigger("blur"),c.trigger("blur"),l.trigger("blur"),!1;var t=a.val(),e=s.val(),r=c.val(),o=l.val();$.ajax({url:"http://127.0.0.1:8848/reg.php",type:"POST",data:{username:t,pwd:e,email:r,nikename:o},dataType:JSON,success:function(t){"ok"===t?(alert("恭喜您注册成功"),location.href="./login.html"):alert("注册失败,请重试")}})})});